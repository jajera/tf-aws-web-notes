{"version":3,"sources":["Banner.js","CognitoForm.js","CognitoOutput.js","ErrorDisplay.js","App.js","index.js"],"names":["Banner","Container","fluid","Row","Col","sm","CognitoForm","props","useState","CognitoVariables","stateProps","Form","Group","controlId","Label","Control","type","value","UserPoolId","onChange","e","setUserPoolId","target","AppClientId","setAppClientId","placeholder","Username","setUsername","Password","setPassword","Button","variant","style","loggedIn","display","onClick","preventDefault","handleLogin","handleLogout","Card","Header","as","Body","Text","AuthReturn","CognitoOutput","color","ErrorDisplay","Alert","error","App","setAuthReturn","curUser","setCurUser","setLoggedIn","setError","useEffect","timer1","setTimeout","errorDelay","clearTimeout","poolData","ClientId","UserPool","CognitoUserPool","user","CognitoUser","Pool","authDetails","AuthenticationDetails","authenticateUser","onSuccess","data","console","log","getIdToken","getJwtToken","onFailure","err","message","newPasswordRequired","signOut","className","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.075a59c2.chunk.js","sourcesContent":["import {Col, Row, Container} from 'react-bootstrap'\n\nconst Banner = () => {\n  return (\n    <header>\n          <Container fluid>\n            <Row>\n              <Col sm=\"11\"><h1>Cognito Test Application</h1></Col>\n            </Row>\n          </Container>\n        </header>\n  )\n}\n\nexport default Banner;","import {useState} from 'react'\nimport {Form, Button, Container, Card} from 'react-bootstrap'\n\n\nconst CognitoForm = (props) => {\n\n  const [errors, setErrors] = useState([])\n\n  const CognitoVariables = props.stateProps.CognitoVariables\n\n  const testLogin = e => {\n    e.preventDefault()\n    CognitoVariables.handleLogin()\n  }\n  const testLogout = e => {\n    e.preventDefault()\n    CognitoVariables.handleLogout()\n  }\n  return (\n    <Container>\n    \n    <Form>\n      <Form.Group controlId=\"formCognitoInformation\">\n        <Form.Label>Cognito User Pool Id</Form.Label>\n        <Form.Control type=\"text\" value={CognitoVariables.UserPoolId} onChange={e => CognitoVariables.setUserPoolId(e.target.value)}/>\n        <Form.Label>Cognito App Client Id</Form.Label>\n        <Form.Control type=\"text\" value={CognitoVariables.AppClientId} onChange={e => CognitoVariables.setAppClientId(e.target.value)}/>\n      </Form.Group>\n      <Form.Group controlId=\"formEmail\">\n        <Form.Label>Username</Form.Label>\n        <Form.Control type=\"text\" placeholder=\"Enter username\" value={CognitoVariables.Username} onChange={e => CognitoVariables.setUsername(e.target.value)}/>\n      </Form.Group>\n      <Form.Group controlId=\"formBasicPassword\">\n        <Form.Label>Password</Form.Label>\n        <Form.Control type=\"password\" placeholder=\"Enter password\" value={CognitoVariables.Password} onChange={e => CognitoVariables.setPassword(e.target.value)}/>\n      </Form.Group>\n      <Button variant=\"primary\" type=\"submit\" style={(!props.loggedIn) ? {} : {display: 'none'}} onClick={testLogin}>\n        Login\n      </Button>\n      <Button variant=\"primary\" type=\"button\" style={(props.loggedIn) ? {} : {display: 'none'}} onClick={testLogout}>\n        Logout\n      </Button>\n    </Form>\n    <Card style={(props.loggedIn ? {} : {display: 'none'})}>\n      <Card.Header as=\"h5\">Authorization Token</Card.Header>\n      <Card.Body>\n        <Card.Text>\n          {props.AuthReturn}\n        </Card.Text>\n      </Card.Body>\n    </Card>\n  </Container>\n  )\n}\n\nexport default CognitoForm","import {Card} from 'react-bootstrap';\n\nconst CognitoOutput = (props) => {\n  const CognitoVariables = props.stateProps.CognitoVariables\n  return (\n    <Card>\n      <Card.Header as=\"h5\">Cognito Javascript SDK code example</Card.Header>\n      <Card.Body>\n        <Card.Text as=\"div\" style={{color: '#b51835'}}>\n          <p>\n          import {`{`} <br/>\n          &ensp;CognitoUserPool,<br/>\n          &ensp;CognitoUser,<br/>\n          &ensp;AuthenticationDetails {`}`} from 'amazon-cognito-identity-js';</p>\n          <p>\n            const poolData = {`{`}<br/>\n            &ensp;UserPoolId: <span style={{color:'#333'}}><b>{CognitoVariables.UserPoolId}</b></span>,<br/>\n            &ensp;AppClientId: <span style={{color:'#333'}}><b>{CognitoVariables.AppClientId}</b></span><br/>\n          {`}`}\n          </p>\n          <p>\n          const UserPool = new CognitoUserPool(poolData);\n          </p>\n          <p>\n          const user = new CognitoUser({`{`}<br/>\n          &ensp;Username: <span style={{color:'#333'}}><b>{CognitoVariables.Username}</b></span>,<br/>\n          &ensp;Pool: UserPool<br/>\n          {`}`})\n          </p>\n          <p>\n          const authDetails = new AuthenticationDetails({`{`}<br/>\n          &ensp;Username: <span style={{color:'#333'}}><b>{CognitoVariables.Username}</b></span>,<br/>\n          &ensp;Password: <span style={{color:'#333'}}><b>{CognitoVariables.Password}</b></span><br/>\n          {`}`})\n          </p>\n          <p>\n          user.authenticateUser(authDetails, {`{`}<br/>\n            &ensp;onSuccess: data ={\">\"} {`{`}<br/>\n            &ensp;&ensp;console.log('Success:', data)<br/>\n            &ensp;&ensp;setToken(<b>data.getIdToken().getJwtToken()</b>)<br/>\n            &ensp;{`}`},<br/>\n            &ensp;onFailure: err ={\">\"} {`{`}<br/>\n            &ensp;&ensp;console.error('Failure:', err)<br/>\n            &ensp;{`}`},<br/>\n            &ensp;newPasswordRequired: data ={\">\"} {`{`}<br/>\n            &ensp;&ensp;console.log('newPasswordRequired:', data)<br/>\n            &ensp;{`}`}<br/>\n          {`}`})\n          </p>\n        </Card.Text>\n      </Card.Body>\n    </Card>\n  )\n}\n\nexport default CognitoOutput;","import { Alert }from 'react-bootstrap'\n\nconst ErrorDisplay = props => {\n    return (\n      <Alert variant=\"danger\" >{props.error}</Alert>\n    )\n}\n\nexport default ErrorDisplay","import {useState, useEffect} from 'react'\nimport {Col, Row, Container} from 'react-bootstrap'\nimport './App.css';\nimport Banner from './Banner';\nimport CognitoForm from './CognitoForm'\nimport CognitoOutput from './CognitoOutput'\nimport ErrorDisplay from './ErrorDisplay'\n\nimport { CognitoUserPool, CognitoUser, AuthenticationDetails } from 'amazon-cognito-identity-js'\n\nfunction App() {\n  const errorDelay = 5;\n  const [UserPoolId, setUserPoolId] = useState('');\n  const [AppClientId, setAppClientId] = useState('');\n  const [Username, setUsername] = useState('');\n  const [Password, setPassword] = useState('');\n  const [AuthReturn, setAuthReturn] = useState('');\n  const [curUser, setCurUser] = useState(null);\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    let timer1 = setTimeout(() => setError(null), errorDelay * 1000);\n\n    return () => {\n      try {\n        clearTimeout(timer1);\n      } catch {}\n    }\n  }, [error])\n\n  useEffect(() => {\n    if (curUser) {\n      setLoggedIn(true)\n    } else {\n      setLoggedIn(false)\n    }\n  }, [curUser])\n\n  const handleLogin = () => {\n    try {\n      const poolData = {\n          UserPoolId: UserPoolId,\n          ClientId: AppClientId\n      }\n  \n      const UserPool = new CognitoUserPool(poolData)\n  \n      const user = new CognitoUser({\n        Username: Username,\n        Pool: UserPool\n      })\n  \n      const authDetails = new AuthenticationDetails({\n        Username: Username,\n        Password: Password\n      })\n  \n      user.authenticateUser(authDetails, {\n        onSuccess: data => {\n          console.log('Success:', data)\n          setAuthReturn(data.getIdToken().getJwtToken())\n          setCurUser(user)\n          console.log(curUser)\n          console.log(AuthReturn)\n        },\n        onFailure: err => {\n          console.error(err.message)\n          setError(err.message)\n        },\n        newPasswordRequired: data => {\n          console.log('newPasswordRequired:', data)\n          setError('New Password Required')\n        }\n      })\n    } catch (error) {\n      console.log(error)\n      setError(error.message)\n    }\n  }\n\n  const handleLogout = () => {\n    console.log('logging out...')\n    if (curUser) {\n      curUser.signOut();\n      setAuthReturn(null)\n      setCurUser(null)\n    }\n  }  \n\n  const stateProps = {\n    \"CognitoVariables\": {\n      \"UserPoolId\": UserPoolId,\n      \"setUserPoolId\": setUserPoolId,\n      \"AppClientId\": AppClientId,\n      \"setAppClientId\": setAppClientId,\n      \"Username\": Username,\n      \"setUsername\": setUsername,\n      \"Password\": Password,\n      \"setPassword\": setPassword,\n      \"handleLogin\": handleLogin,\n      \"handleLogout\": handleLogout\n    }\n  }\n  return (\n    <div className=\"App\">\n      <Container fluid>\n        <Banner />\n        {(error) ? <ErrorDisplay error={error} /> : null}\n        <Container className=\"Content\">\n          <Row>\n            <Col sm={6}><CognitoForm stateProps={stateProps} loggedIn={loggedIn} AuthReturn={AuthReturn}/></Col>\n            <Col sm={6}><CognitoOutput stateProps={stateProps} AuthReturn={AuthReturn}/></Col>\n          </Row>\n        </Container>\n      </Container>\n    </div>\n  );\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}