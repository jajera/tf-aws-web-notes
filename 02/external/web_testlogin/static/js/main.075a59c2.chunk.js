(this.webpackJsonptest_login=this.webpackJsonptest_login||[]).push([[0],{131:function(e,t,n){},132:function(e,t,n){},141:function(e,t){},143:function(e,t){},154:function(e,t){},156:function(e,t){},183:function(e,t){},185:function(e,t){},186:function(e,t){},191:function(e,t){},193:function(e,t){},212:function(e,t){},224:function(e,t){},227:function(e,t){},233:function(e,t,n){"use strict";n.r(t);var s=n(0),c=n.n(s),o=n(26),r=n.n(o),a=(n(131),n(15)),j=n(235),l=n(236),i=n(123),b=(n(132),n(1)),d=function(){return Object(b.jsx)("header",{children:Object(b.jsx)(j.a,{fluid:!0,children:Object(b.jsx)(l.a,{children:Object(b.jsx)(i.a,{sm:"11",children:Object(b.jsx)("h1",{children:"Cognito Test Application"})})})})})},u=n(239),O=n(237),x=n(240),h=function(e){var t=Object(s.useState)([]),n=Object(a.a)(t,2),c=(n[0],n[1],e.stateProps.CognitoVariables);return Object(b.jsxs)(j.a,{children:[Object(b.jsxs)(u.a,{children:[Object(b.jsxs)(u.a.Group,{controlId:"formCognitoInformation",children:[Object(b.jsx)(u.a.Label,{children:"Cognito User Pool Id"}),Object(b.jsx)(u.a.Control,{type:"text",value:c.UserPoolId,onChange:function(e){return c.setUserPoolId(e.target.value)}}),Object(b.jsx)(u.a.Label,{children:"Cognito App Client Id"}),Object(b.jsx)(u.a.Control,{type:"text",value:c.AppClientId,onChange:function(e){return c.setAppClientId(e.target.value)}})]}),Object(b.jsxs)(u.a.Group,{controlId:"formEmail",children:[Object(b.jsx)(u.a.Label,{children:"Username"}),Object(b.jsx)(u.a.Control,{type:"text",placeholder:"Enter username",value:c.Username,onChange:function(e){return c.setUsername(e.target.value)}})]}),Object(b.jsxs)(u.a.Group,{controlId:"formBasicPassword",children:[Object(b.jsx)(u.a.Label,{children:"Password"}),Object(b.jsx)(u.a.Control,{type:"password",placeholder:"Enter password",value:c.Password,onChange:function(e){return c.setPassword(e.target.value)}})]}),Object(b.jsx)(O.a,{variant:"primary",type:"submit",style:e.loggedIn?{display:"none"}:{},onClick:function(e){e.preventDefault(),c.handleLogin()},children:"Login"}),Object(b.jsx)(O.a,{variant:"primary",type:"button",style:e.loggedIn?{}:{display:"none"},onClick:function(e){e.preventDefault(),c.handleLogout()},children:"Logout"})]}),Object(b.jsxs)(x.a,{style:e.loggedIn?{}:{display:"none"},children:[Object(b.jsx)(x.a.Header,{as:"h5",children:"Authorization Token"}),Object(b.jsx)(x.a.Body,{children:Object(b.jsx)(x.a.Text,{children:e.AuthReturn})})]})]})},p=function(e){var t=e.stateProps.CognitoVariables;return Object(b.jsxs)(x.a,{children:[Object(b.jsx)(x.a.Header,{as:"h5",children:"Cognito Javascript SDK code example"}),Object(b.jsx)(x.a.Body,{children:Object(b.jsxs)(x.a.Text,{as:"div",style:{color:"#b51835"},children:[Object(b.jsxs)("p",{children:["import ","{"," ",Object(b.jsx)("br",{}),"\u2002CognitoUserPool,",Object(b.jsx)("br",{}),"\u2002CognitoUser,",Object(b.jsx)("br",{}),"\u2002AuthenticationDetails ","}"," from 'amazon-cognito-identity-js';"]}),Object(b.jsxs)("p",{children:["const poolData = ","{",Object(b.jsx)("br",{}),"\u2002UserPoolId: ",Object(b.jsx)("span",{style:{color:"#333"},children:Object(b.jsx)("b",{children:t.UserPoolId})}),",",Object(b.jsx)("br",{}),"\u2002AppClientId: ",Object(b.jsx)("span",{style:{color:"#333"},children:Object(b.jsx)("b",{children:t.AppClientId})}),Object(b.jsx)("br",{}),"}"]}),Object(b.jsx)("p",{children:"const UserPool = new CognitoUserPool(poolData);"}),Object(b.jsxs)("p",{children:["const user = new CognitoUser(","{",Object(b.jsx)("br",{}),"\u2002Username: ",Object(b.jsx)("span",{style:{color:"#333"},children:Object(b.jsx)("b",{children:t.Username})}),",",Object(b.jsx)("br",{}),"\u2002Pool: UserPool",Object(b.jsx)("br",{}),"}",")"]}),Object(b.jsxs)("p",{children:["const authDetails = new AuthenticationDetails(","{",Object(b.jsx)("br",{}),"\u2002Username: ",Object(b.jsx)("span",{style:{color:"#333"},children:Object(b.jsx)("b",{children:t.Username})}),",",Object(b.jsx)("br",{}),"\u2002Password: ",Object(b.jsx)("span",{style:{color:"#333"},children:Object(b.jsx)("b",{children:t.Password})}),Object(b.jsx)("br",{}),"}",")"]}),Object(b.jsxs)("p",{children:["user.authenticateUser(authDetails, ","{",Object(b.jsx)("br",{}),"\u2002onSuccess: data =",">"," ","{",Object(b.jsx)("br",{}),"\u2002\u2002console.log('Success:', data)",Object(b.jsx)("br",{}),"\u2002\u2002setToken(",Object(b.jsx)("b",{children:"data.getIdToken().getJwtToken()"}),")",Object(b.jsx)("br",{}),"\u2002","}",",",Object(b.jsx)("br",{}),"\u2002onFailure: err =",">"," ","{",Object(b.jsx)("br",{}),"\u2002\u2002console.error('Failure:', err)",Object(b.jsx)("br",{}),"\u2002","}",",",Object(b.jsx)("br",{}),"\u2002newPasswordRequired: data =",">"," ","{",Object(b.jsx)("br",{}),"\u2002\u2002console.log('newPasswordRequired:', data)",Object(b.jsx)("br",{}),"\u2002","}",Object(b.jsx)("br",{}),"}",")"]})]})})]})},g=n(238),f=function(e){return Object(b.jsx)(g.a,{variant:"danger",children:e.error})},m=n(44);var P=function(){var e=Object(s.useState)(""),t=Object(a.a)(e,2),n=t[0],c=t[1],o=Object(s.useState)(""),r=Object(a.a)(o,2),u=r[0],O=r[1],x=Object(s.useState)(""),g=Object(a.a)(x,2),P=g[0],w=g[1],C=Object(s.useState)(""),I=Object(a.a)(C,2),U=I[0],y=I[1],v=Object(s.useState)(""),A=Object(a.a)(v,2),S=A[0],T=A[1],k=Object(s.useState)(null),L=Object(a.a)(k,2),D=L[0],R=L[1],E=Object(s.useState)(!1),q=Object(a.a)(E,2),J=q[0],B=q[1],F=Object(s.useState)(null),G=Object(a.a)(F,2),N=G[0],V=G[1];Object(s.useEffect)((function(){var e=setTimeout((function(){return V(null)}),5e3);return function(){try{clearTimeout(e)}catch(t){}}}),[N]),Object(s.useEffect)((function(){B(!!D)}),[D]);var z={CognitoVariables:{UserPoolId:n,setUserPoolId:c,AppClientId:u,setAppClientId:O,Username:P,setUsername:w,Password:U,setPassword:y,handleLogin:function(){try{var e={UserPoolId:n,ClientId:u},t=new m.c(e),s=new m.b({Username:P,Pool:t}),c=new m.a({Username:P,Password:U});s.authenticateUser(c,{onSuccess:function(e){console.log("Success:",e),T(e.getIdToken().getJwtToken()),R(s),console.log(D),console.log(S)},onFailure:function(e){console.error(e.message),V(e.message)},newPasswordRequired:function(e){console.log("newPasswordRequired:",e),V("New Password Required")}})}catch(N){console.log(N),V(N.message)}},handleLogout:function(){console.log("logging out..."),D&&(D.signOut(),T(null),R(null))}}};return Object(b.jsx)("div",{className:"App",children:Object(b.jsxs)(j.a,{fluid:!0,children:[Object(b.jsx)(d,{}),N?Object(b.jsx)(f,{error:N}):null,Object(b.jsx)(j.a,{className:"Content",children:Object(b.jsxs)(l.a,{children:[Object(b.jsx)(i.a,{sm:6,children:Object(b.jsx)(h,{stateProps:z,loggedIn:J,AuthReturn:S})}),Object(b.jsx)(i.a,{sm:6,children:Object(b.jsx)(p,{stateProps:z,AuthReturn:S})})]})})]})})};n(232);r.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(P,{})}),document.getElementById("root"))}},[[233,1,2]]]);
//# sourceMappingURL=main.075a59c2.chunk.js.map